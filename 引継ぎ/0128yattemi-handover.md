# YatteMi! é–‹ç™ºå¼•ç¶™ãè³‡æ–™

**ä½œæˆæ—¥**: 2025å¹´1æœˆ28æ—¥  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: YatteMi! - ã‚¹ã‚­ãƒ«ã‚·ã‚§ã‚¢ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
- **ã‚¿ã‚°ãƒ©ã‚¤ãƒ³**: ã€Œã‚„ã£ã¦ã¿ãŸã„ã€ã‚’ã€Œã‚„ã£ã¦ã¿ãŸã€ã«
- **ã‚µãƒ–ã‚³ãƒ”ãƒ¼**: å¥½ãã‚’åºƒã‚ãŸã„äººã¨ã€æ–°ã—ã„ã“ã¨ã‚’å§‹ã‚ãŸã„äººã‚’ç¹‹ãã€‚ã‚ãªãŸã®å¾—æ„ã§ã€èª°ã‹ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’å¿œæ´ã—ã‚ˆã†ã€‚

### æŠ•ç¨¿ã‚¿ã‚¤ãƒ—
| ã‚¿ã‚¤ãƒ— | èª¬æ˜ |
|--------|------|
| ã‚µãƒãƒ¼ãƒˆï¼ˆsupportï¼‰ | ã‚¹ã‚­ãƒ«ã‚’æ•™ãˆãŸã„äººãŒæŠ•ç¨¿ |
| ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆchallengeï¼‰ | ã‚¹ã‚­ãƒ«ã‚’å­¦ã³ãŸã„äººãŒæŠ•ç¨¿ |

### ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ï¼ˆäºˆå®šï¼‰
- Phase 1ï¼ˆç¾åœ¨ï¼‰: å®Œå…¨ç„¡æ–™ãƒ»å–„æ„ãƒ™ãƒ¼ã‚¹
- Phase 2ï¼ˆä¸­æœŸï¼‰: åºƒå‘Šåå…¥ + ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½
- Phase 3ï¼ˆå°†æ¥ï¼‰: é‡‘éŠ­ã®ã‚„ã‚Šå–ã‚Šå¯èƒ½

---

## 2. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| åˆ†é¡ | æŠ€è¡“ |
|------|------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js (App Router) |
| è¨€èª | TypeScript |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | Tailwind CSS |
| UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | shadcn/ui |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Supabase (PostgreSQL, Auth, Storage) |
| ãƒ‡ãƒ—ãƒ­ã‚¤ | Vercel |
| ã‚¢ã‚¤ã‚³ãƒ³ | Lucide React |

---

## 3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/           # èªè¨¼ãƒšãƒ¼ã‚¸ï¼ˆlogin, registerï¼‰
â”‚   â”‚   â”œâ”€â”€ layout.tsx    # å·¦å³åˆ†å‰²ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”œâ”€â”€ (main)/           # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ layout.tsx    # ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼ä»˜ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”œâ”€â”€ page.tsx      # ãƒ›ãƒ¼ãƒ ï¼ˆLP + ãƒ­ã‚°ã‚¤ãƒ³å¾Œãƒ•ã‚£ãƒ¼ãƒ‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ dashboard/    # ç®¡ç†ç”»é¢
â”‚   â”‚   â”œâ”€â”€ explore/      # æŠ•ç¨¿æ¤œç´¢
â”‚   â”‚   â”œâ”€â”€ posts/        # æŠ•ç¨¿è©³ç´°ãƒ»ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ matches/      # ãƒãƒƒãƒè©³ç´°
â”‚   â”‚   â”œâ”€â”€ messages/     # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ users/        # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ notifications/# é€šçŸ¥
â”‚   â”‚   â””â”€â”€ settings/     # è¨­å®š
â”‚   â””â”€â”€ auth/
â”‚       â””â”€â”€ callback/     # OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/               # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ common/           # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆErrorBoundaryç­‰ï¼‰
â”‚   â”œâ”€â”€ posts/            # æŠ•ç¨¿é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ hooks/                # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ use-auth.ts       # èªè¨¼ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ use-recommendations.ts
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/         # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ constants/        # å®šæ•°ï¼ˆROUTESç­‰ï¼‰
â”‚   â”œâ”€â”€ utils/            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ validations/      # Zodã‚¹ã‚­ãƒ¼ãƒ
â””â”€â”€ types/                # å‹å®šç¾©
```

---

## 4. ä¸»è¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«

### profiles
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | uuid | auth.usersã¨ç´ã¥ã |
| username | text | ãƒ¦ãƒ‹ãƒ¼ã‚¯ |
| display_name | text | è¡¨ç¤ºå |
| avatar_url | text | ã‚¢ãƒã‚¿ãƒ¼ç”»åƒURL |
| university | text | å¤§å­¦å |

### posts
æŠ•ç¨¿æƒ…å ±

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | uuid | PK |
| user_id | uuid | æŠ•ç¨¿è€…ID |
| title | text | ã‚¿ã‚¤ãƒˆãƒ« |
| description | text | èª¬æ˜ |
| type | text | 'support' or 'challenge' |
| status | text | 'open', 'closed', etc. |
| category_id | int | ã‚«ãƒ†ã‚´ãƒªID |

### applications
å¿œå‹Ÿæƒ…å ±

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | uuid | PK |
| post_id | uuid | æŠ•ç¨¿IDï¼ˆFKãªã—ã€è¦æ³¨æ„ï¼‰ |
| applicant_id | uuid | å¿œå‹Ÿè€…ID |
| status | text | 'pending', 'accepted', 'rejected' |

### matches
ãƒãƒƒãƒãƒ³ã‚°æƒ…å ±

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | uuid | PK |
| application_id | uuid | å¿œå‹ŸIDï¼ˆé‡è¦ï¼špost_idã§ã¯ãªã„ï¼‰ |
| status | text | 'active', 'completed', etc. |

**âš ï¸ æ³¨æ„**: `matches`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯`post_id`, `senpai_id`, `kouhai_id`ã‚«ãƒ©ãƒ ã¯**å­˜åœ¨ã—ãªã„**ã€‚`application_id`çµŒç”±ã§æŠ•ç¨¿ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã€‚

---

## 5. èªè¨¼ãƒ•ãƒ­ãƒ¼

### ãƒ­ã‚°ã‚¤ãƒ³
1. ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ or Google OAuth
2. `useAuth().signIn()` å‘¼ã³å‡ºã—
3. æˆåŠŸæ™‚: `window.location.href` ã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆrouter.pushã ã¨çŠ¶æ…‹åæ˜ ã•ã‚Œãªã„ï¼‰

### ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
1. `useAuth().signOut()` å‘¼ã³å‡ºã—
2. `window.location.href = ROUTES.HOME` ã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ
```typescript
// âŒ NG: èªè¨¼çŠ¶æ…‹ãŒã™ãã«åæ˜ ã•ã‚Œãªã„
router.push('/');
router.refresh();

// âœ… OK: ãƒ•ãƒ«ãƒªãƒ­ãƒ¼ãƒ‰ã§ç¢ºå®Ÿã«åæ˜ 
window.location.href = '/';
```

---

## 6. æœ¬æ—¥ã®å®Ÿè£…å†…å®¹

### 6.1 èªè¨¼ãƒšãƒ¼ã‚¸ãƒªãƒ‡ã‚¶ã‚¤ãƒ³

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/app/(auth)/layout.tsx`

å·¦å³åˆ†å‰²ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:
- å·¦å´ï¼ˆPCï¼‰: ã‚ªãƒ¬ãƒ³ã‚¸ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ + ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
- å³å´: ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
- ã‚¹ãƒãƒ›: ãƒ•ã‚©ãƒ¼ãƒ ã®ã¿è¡¨ç¤º

```tsx
// ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆ
- ãƒ­ã‚´ã‚µã‚¤ã‚º: h-14 w-14ï¼ˆå¤§ãã‚ï¼‰
- èƒŒæ™¯: bg-gradient-to-br from-orange-500 via-orange-400 to-amber-500
- æ”¹è¡Œé˜²æ­¢: break-keep ã‚¯ãƒ©ã‚¹ä½¿ç”¨
```

### 6.2 ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚³ãƒ”ãƒ¼æ›´æ–°

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/app/(main)/page.tsx`

å¤‰æ›´ç‚¹:
- Badgeå‰Šé™¤
- ã‚µãƒ–ã‚³ãƒ”ãƒ¼æ›´æ–°
- ã‚«ãƒ†ã‚´ãƒªæ›´æ–°ï¼ˆä¼çµ±å·¥èŠ¸ã€æ¨ã—æ´»è¿½åŠ ï¼‰
- featuresæ›´æ–°
- CTAæ›´æ–°

```tsx
const features = [
  { icon: Sparkles, title: 'å¥½ãã‚’å±Šã‘ã‚‹', description: '...' },
  { icon: Target, title: 'æ°—è»½ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸', description: '...' },
  { icon: Palette, title: 'ãªã‚“ã§ã‚‚OK', description: '...' },
  { icon: Users, title: 'æ–°ã—ã„å‡ºä¼šã„', description: '...' },
];

const categories = [
  { name: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°', emoji: 'ğŸ’»', color: 'bg-blue-100 text-blue-700' },
  { name: 'éŸ³æ¥½', emoji: 'ğŸµ', color: 'bg-purple-100 text-purple-700' },
  { name: 'æ–™ç†', emoji: 'ğŸ³', color: 'bg-red-100 text-red-700' },
  { name: 'ä¼çµ±å·¥èŠ¸', emoji: 'ğŸº', color: 'bg-amber-100 text-amber-700' },
  { name: 'æ¨ã—æ´»', emoji: 'ğŸ’–', color: 'bg-pink-100 text-pink-700' },
  { name: 'èªå­¦', emoji: 'ğŸŒ', color: 'bg-yellow-100 text-yellow-700' },
];
```

### 6.3 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰matchesã‚¯ã‚¨ãƒªä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/app/(main)/dashboard/page.tsx`

**å•é¡Œ**: matchesãƒ†ãƒ¼ãƒ–ãƒ«ã«post_id, senpai_id, kouhai_idãŒå­˜åœ¨ã—ãªã‹ã£ãŸ

**è§£æ±º**: applicationçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿å–å¾—

```tsx
// æ­£ã—ã„ã‚¯ã‚¨ãƒª
const { data: activeMatches } = await supabase
  .from('matches')
  .select(`
    id,
    status,
    application:applications (
      id,
      applicant_id,
      post:posts (
        id,
        title,
        type,
        user_id,
        owner:profiles!posts_user_id_fkey (
          id,
          avatar_url,
          display_name
        )
      ),
      applicant:profiles!applications_applicant_id_fkey (
        id,
        avatar_url,
        display_name
      )
    )
  `)
  .eq('status', 'active');
```

### 6.4 èªè¨¼çŠ¶æ…‹åæ˜ ä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: 
- `src/app/(auth)/login/page.tsx`
- `src/hooks/use-auth.ts`

**å¤‰æ›´**: `router.push()` â†’ `window.location.href`

### 6.5 PostCardã‚¿ã‚¤ãƒä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/posts/post-card.tsx`

```tsx
// âŒ é–“é•ã„
"whitespace-pare-line"

// âœ… æ­£ã—ã„
"whitespace-pre-line"
```

---

## 7. ç«¶åˆåˆ†æ

| ã‚µãƒ¼ãƒ“ã‚¹ | ã‚¿ã‚°ãƒ©ã‚¤ãƒ³ | ãƒ¢ãƒ‡ãƒ« |
|----------|----------|--------|
| ã‚³ã‚³ãƒŠãƒ© | å¾—æ„ã‚’å£²ã‚Šè²·ã„ | ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ï¼ˆ25%æ‰‹æ•°æ–™ï¼‰ |
| ã‚¹ãƒˆã‚¢ã‚« | æ•™ãˆãŸã„ã¨å­¦ã³ãŸã„ã‚’ã¤ãªã | è¬›åº§ãƒ™ãƒ¼ã‚¹ |
| ã‚¿ã‚¤ãƒ ãƒã‚±ãƒƒãƒˆ | 30åˆ†å˜ä½ã§æ™‚é–“ã‚’å£²è²· | æ™‚é–“ãƒ™ãƒ¼ã‚¹ |
| MENTA | ãƒ¡ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒãƒ³ã‚° | æœˆé¡ã‚µãƒ–ã‚¹ã‚¯ |
| ANYTIMES | ã”è¿‘æ‰€ã®åŠ©ã‘åˆã„ | ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ |

**YatteMi!ã®å·®åˆ¥åŒ–**: ç„¡æ–™ãƒ»å–„æ„ãƒ™ãƒ¼ã‚¹ã§ã‚¹ã‚¿ãƒ¼ãƒˆã€å°†æ¥çš„ã«æœ‰æ–™åŒ–

---

## 8. æ—¢çŸ¥ã®å•é¡Œãƒ»æ³¨æ„ç‚¹

### Supabaseã‚¯ã‚¨ãƒª
- `.or()` ã¨ `.eq()` ã®é †åºã«æ³¨æ„ï¼ˆ.eq() ã‚’å…ˆã«ï¼‰
- FKæŒ‡å®šãŒå­˜åœ¨ã—ãªã„ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
- ãƒ‡ãƒãƒƒã‚°æ™‚ã¯ `.select('*')` ã§å®Ÿéš›ã®ã‚«ãƒ©ãƒ ã‚’ç¢ºèª

### èªè¨¼
- èªè¨¼å¾Œã®ç”»é¢åˆ‡ã‚Šæ›¿ãˆã¯ `window.location.href` å¿…é ˆ
- `router.push()` + `router.refresh()` ã§ã¯ä¸ååˆ†

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- æ—¥æœ¬èªã®æ”¹è¡Œé˜²æ­¢: `break-keep` ã‚¯ãƒ©ã‚¹ä½¿ç”¨
- å¹…åˆ¶é™ã§ãƒ†ã‚­ã‚¹ãƒˆãŒé€”ä¸­æ”¹è¡Œã•ã‚Œã‚‹å ´åˆã‚ã‚Š

---

## 9. ä»Šå¾Œã®TODO

- [ ] Error Boundaryã®æœ¬ç•ªãƒ†ã‚¹ãƒˆ
- [ ] ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã®æ”¹å–„
- [ ] é€šçŸ¥ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒ–
- [ ] PWAå¯¾å¿œ
- [ ] SEOæœ€é©åŒ–

---

## 10. ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

```bash
# å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: æ©Ÿèƒ½èª¬æ˜"
git push

# Vercelã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
# ç¢ºèª: https://yattemi.vercel.appï¼ˆä»®ï¼‰
```

---

## 11. é€£çµ¡å…ˆãƒ»ãƒªã‚½ãƒ¼ã‚¹

- Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: https://supabase.com/dashboard/project/bojkczhgfhxazuiomktv
- Vercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURLã‚’è¿½åŠ ï¼‰
- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«: ï¼ˆFigmaç­‰ã‚ã‚Œã°è¿½åŠ ï¼‰

---

**ä»¥ä¸Š**
